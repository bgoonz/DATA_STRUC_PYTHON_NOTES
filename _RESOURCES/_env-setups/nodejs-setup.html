<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>nodejs-setup</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <h1 id="installing-node.js">Installing Node.JS</h1>
    <p>
      Node.JS is Javascript Runtime Environment for running JavaScript files
      directly on a computer. JavaScript is built into every web browser, but if
      we want to run JavaScript directly without a browser, we need to install
      Node.JS.
    </p>
    <blockquote>
      <p>
        NOTE: We do not install Node.JS using the installer provided at the
        Node.JS website in this class. If you have this one installed, please
        uninstall it before proceeding with these instructions.
      </p>
    </blockquote>
    <h2 id="node-version-manager-nvm">Node Version Manager (nvm)</h2>
    <p>
      Often as developers we will need to juggle multiple projects on our
      computers, each running a different version of Node.JS. Because of this
      just installing a new version from the Node.JS website would be difficult
      and error prone.
    </p>
    <p>
      Luckily there’s a piece of open source software that can help called Node
      Version Manager or <code>nvm</code>.
    </p>
    <p>To install nvm check out the <code>nvm</code> github page here:</p>
    <p><a href="https://github.com/nvm-sh/nvm">nvm Github Page</a></p>
    <p>
      Below the code, there is a README section. Usually when installing
      software from github you’ll want to check the README for instructions. If
      you scroll down you’ll see instructions for how to install nvm. In this
      case we can run a special command with <code>curl</code> to download and
      install nvm from the terminal.
    </p>
    <p>
      So open a Terminal and use the curl command listed in the README. It
      should look something like this, although the version number in the URL
      might vary:
    </p>
    <pre
      class="shell"
    ><code>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash</code></pre>
    <p>When you do this you’ll see something like this:</p>
    <pre
      class="shell"
    ><code>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 13527  100 13527    0     0  49731      0 --:--:-- --:--:-- --:--:-- 49915
=&gt; Downloading nvm from git to &#39;/home/your-user/.nvm&#39;
=&gt; Cloning into &#39;/home/your-user/.nvm&#39;...
remote: Enumerating objects: 333, done.
remote: Counting objects: 100% (333/333), done.
remote: Compressing objects: 100% (283/283), done.
remote: Total 333 (delta 38), reused 150 (delta 25), pack-reused 0
Receiving objects: 100% (333/333), 177.16 KiB | 1.46 MiB/s, done.
Resolving deltas: 100% (38/38), done.
=&gt; Compressing and cleaning up git repository

=&gt; Appending nvm source string to /home/your-user/.bashrc
=&gt; Appending bash_completion source string to /home/your-user/.bashrc
=&gt; Close and reopen your terminal to start using nvm or run the following to use it now:

export NVM_DIR=&quot;$HOME/.nvm&quot;
[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm
[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion</code></pre>
    <p>
      The lines to pay attention to are the last three. These are the shell
      commands necessary to initialize nvm. But we don’t want to have to run
      these commands everytime we open a terminal, so we should put these into
      our <em>shell startup file</em>
    </p>
    <p>The general rule on this is:</p>
    <p>
      If your shell is <code>zsh</code> use <code>~/.zshrc</code> If your shell
      is <code>bash</code> use <code>~/.bashrc</code>
    </p>
    <blockquote>
      <p>
        You can determine which shell you have by typing
        <code>echo $SHELL</code> at the command line
      </p>
    </blockquote>
    <p>
      You’ll notice in my case the nvm installer automatically added the lines
      to my <code>~/.bashrc</code> even though I run zsh. You should verify that
      the lines were correctly added to your startup file. Don’t trust the
      installer to always do the right thing in this case. Everyone’s system is
      different.
    </p>
    <p>
      To verify it, open up your startup file in vscode with the
      <code>code</code> command. (use the appropriate startup filename depending
      on which shell you have)
    </p>
    <pre class="shell"><code>code ~/.zshrc</code></pre>
    <p>
      If you do not see the nvm startup lines in your file already, add them in
      there.
    </p>
    <p>
      There are two ways to run your startup file. You can run it live in your
      current shell by typing the <code>source</code> command and following it
      with your startup file, or an even easier option is to just close your
      terminal window and open it back up.
    </p>
    <p>
      Once you have done these steps, run <code>nvm</code> by itself at the
      command prompt. You should see the help messages from nvm. If this doesn’t
      work, double check your shell startup files.
    </p>
    <h2 id="installing-node.js-1">Installing Node.JS</h2>
    <p>
      Now that we have nvm installed and ready to go, we can use it to install a
      particular version of Node.JS.
    </p>
    <p>
      Currently in this course, we use version 12 of Node.JS. Version 14 is out
      but not all of the curriculum has been tested to work on Node.JS 14.
    </p>
    <blockquote>
      <p>
        Note only stick to LTS versions of Node.JS. This stands for Long Term
        Support. These are the stable versions of Node.JS. The Odd numbered
        releases such as 15 are experimental releases and should not be used for
        anything important. They are a way for people to test new releases of
        Node.JS, not something you should rely on for your code.
      </p>
    </blockquote>
    <p>So let’s install it!</p>
    <pre class="shell"><code>nvm install 12</code></pre>
    <p>You should see something like this:</p>
    <pre class="shell"><code>Downloading and installing node v12.20.0...
Downloading https://nodejs.org/dist/v12.20.0/node-v12.20.0-linux-x64.tar.xz...
################################################################################################################################################################################################### 100.0%
Computing checksum with sha256sum
Checksums matched!
Now using node v12.20.0 (npm v6.14.8)
Creating default alias: default -&gt; 12 (-&gt; v12.20.0)</code></pre>
    <p>
      You’ll notice we can just provide <code>12</code> here and not any
      specific version of Node.JS like <code>12.20.0</code>. nvm is good like
      that, it will automatically install the latest version of <code>12</code>.
    </p>
    <p>Once this is complete, you should be able to type</p>
    <pre class="shell"><code>node --version</code></pre>
    <p>and it should print out the correct version of Node.JS.</p>
    <p>
      You can verify that the Node.JS you installed is coming from your
      <code>nvm</code> setup, by using this shell command:
    </p>
    <pre class="shell"><code>which node</code></pre>
    <p>
      If it prints out a path with .nvm in it, then you’ve done it correctly!
    </p>
    <pre
      class="shell"
    ><code>/home/&lt;&lt;your username&gt;&gt;/.nvm/versions/node/v12.20.0/bin/node</code></pre>
    <p>Congratulations you’ve just installed Node.JS!</p>
    <h2 id="mocha---one-last-step">Mocha - One last step</h2>
    <p>
      We use a tool called Mocha for testing our Javascript code. We need to
      install this. We will use it to test in our projects and also when you do
      assessments.
    </p>
    <p>To install it we use the <code>npm</code> command.</p>
    <blockquote>
      <p>
        NOTE: DO NOT confuse <code>npm</code> with <code>nvm</code>. They are
        different tools. nvm controls the version of Node.JS you have installed,
        while <code>npm</code> is responsible for installing Node Packages which
        are third party pieces of software written in JavaScript.
      </p>
    </blockquote>
    <p>To install mocha do this:</p>
    <pre class="shell"><code>npm install -g mocha</code></pre>
    <p>
      the <code>-g</code> is called a flag. This changes the behavior of the
      install command.
    </p>
    <p>
      In this case it means <code>global</code>. By default npm will install
      files into your project directory, but we want mocha to be installed for
      all projects, so we specify <code>-g</code>.
    </p>
    <p>You can verify mocha works by typing</p>
    <p><code>mocha --version</code></p>
    <p>
      If it prints out a version number, pay yourself on the back, you have
      successfully installed Node.JS and Mocha!
    </p>
  </body>
</html>
